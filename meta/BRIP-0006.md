---
mip: 0006
title: WIP - Default Optimal Cutting Board Automation
author: astrobera, barbera, dezzlybera, grizzlybera
status: Draft
created: 2025-10-17
type: PoL (?)
requires: BRIP-0004 ???
---

## Summary

This BRIP proposes a default ‘optimal’ validator reward allocation strategy - aka ‘cutting board’. This default cutting board will be automatically maintained by the Berachain Foundation using a simple, clearly specified protocol. The cutting board will act as a ‘fallback’ strategy for validators that choose not to proactively manage their reward allocation themselves. The mechanism that triggers the ‘fallback’ will be defined and managed by the Proof of Liquidity protocol.

This BRIP is meant to be complementary to BRIP-0005 and does not override the ability for validators to proactively manage their cutting board.

## Motivation

Despite continuing improvements to the efficiency and usability of the Proof of Liquidity protocol, it remains a challenge for validators to manage their cutting boards in an efficient and timely manner. This results in diminished economic efficiency of the overall system as validator BGT emissions are often allocated to vaults with little or no active incentives.

While BRIP-0005 proposes a near-optimal mechanism for validators to delegate their cutting board management to an external ‘sidecar’, the design and implementation of this sidecar remains undefined and would entail significant effort and require substantial expertise.

This BRIP proposes a middle ground solution where an external service manages the complexity of monitoring and administering a simple, optimized cutting board. Validators are still free to manage their cutting board but can trivially fallback to this default strategy without any protocol interaction or additional infrastructure requirements.

## Specification

### Overview

This BRIP proposes changes to the Proof of Liquidity protocol. Specifically, it introduces the concept of an ‘optimal’ cutting board which can be managed by an external account that is granted a new role, the ‘ALLOCATION_SETTER_ROLE’ role.

It also defines a simple mechanism that determines when validators automatically ‘revert’ to using this optimal strategy. In this initial proposal, the mechanism is defined through inactivity; specifically if a validator chooses to not update their cutting board within a defined period the protocol switches the validator to the optimal strategy. This inactivity period is specified in terms of block count and is governed by a protocol-defined parameter which is managed by Berachain governance.

Automatic update of the optimal cutting board will be handled by an off-chain foundation-controlled bot. This bot will monitor the state of incentives in all active vaults and periodically update the optimal strategy in accordance with a simple function. While the details of the implementation of the bot are beyond the scope of this BRIP, the optimization strategy will be specified below.

### Contract Modifications - TODO

* Berachef - modifications
  * Implementation of the fallback mechanism (getActiveRewardAllocation())
    * Initial inactivity period definition to be defined
    * Validation mechanism to be defined
(in theory an optimal cutting board can become invalid at any point in time by blacklisting. A simple vault rank cannot become invalid if we check vault whitelisting status before dynamically building the cuttingboard. Tradeoff is efficiency in allocation building vs. checking validity. Neither is game changer)
  * Reference to the external contract holding fallback allocation data
    * Admin setters for the reference
* RewardAllocatorFactory - new contract - optimal allocation holder
  * Storing mode to be defined
(ranking vs. direct allocation - see tradeoffs. As said, not huge deal but may require a bit of internal discussion)
* RewardAllocator - new contract (not to be confused with reward allocator address, i.e. the Berachef.valRewardAllocator mapping holding the address set by the operator to queue new allocations)
  * Need this contract to foresee validators preferences settings. Contract’s logic can be postponed since we do not want to enable validators preferences in a first phase.
  * Idea is to have this contract address set as the reward allocator for the given pubkey and
    * Expose roles to be managed by validator operator,
    * Expose methods to queue new allocations, as if the operator was directly calling Berachef methods
    * Expose methods to set preferences
    * Expose a setting to adhere to the allocation automation? TBD

### ‘Optimal’ Reward Allocation Strategy

TODO: inline MD?

https://hackmd.io/@ujgaixkZTC2pfgzXn9gQ9Q/HyuEJdTagg#Optimal-Reward-Allocation-Strategy

## Rationale

While not a direct alternative, this BRIP can be thought of as accomplishing similar goals to BRIP-0005.  While BRIP-0005 allows for maximum flexibility and customization by validators, it also entails significant complexity and increases the operational cost and requirements for a validator.

This BRIP also addresses an additional issue, which could be characterized as the ‘passive validator’ issue. In the current implementation of Proof of Liquidity, validators that choose to not manage their cutting boards contribute to an overall degradation of the economic efficiency of the protocol. Specifically, BGT is allocated without any incentives accrued to stakeholders. This BRIP addresses this issue while BRIP-0005 does not.

## Backward Compatibility

* No breaking protocol changes or incompatibilities
* Change in ‘default’ behavior: there is already a ‘default’ cutting board. Previously if a validator *never* changed their cutting board or - somehow - ended up with an invalid cutting board, this default would be returned.

## Test Cases

* Unit tests defined as part of smart contract implementation

## Reference Implementation

* Smart contract changes to be open-sourced in a timely manner
* Implementation of bot to be open-sourced in a timely manner

## Security Considerations

* Smart contract changes to be audited as per normal procedure. Results of audits will be made public in a timely manner.
* The offchain bot will be managed by the Berachain Foundation with standard security best practices. The ‘hot key’ (EOA) required for this bot will have only the minimum capabilities necessary for its function.

## Copyright

All copyrights and related rights in this work are waived under CCO 1.0 Universal.
